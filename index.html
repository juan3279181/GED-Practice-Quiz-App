<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GED Practice Quiz</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#111;
  color:#fff;
  margin:0;
  padding:20px;
  text-align:center;
}
select, button {
  padding:10px;
  margin:10px;
  font-size:16px;
}
#quizBox {
  max-width:700px;
  margin:20px auto;
  background:#222;
  padding:20px;
  border-radius:10px;
}
.answer {
  display:block;
  background:#333;
  margin:8px 0;
  padding:12px;
  border-radius:6px;
  cursor:pointer;
}
.answer:hover { background:#555; }
.correct { background:green !important; }
.wrong { background:red !important; }

#feedback {
  font-size:18px;
  margin-top:10px;
  font-weight:bold;
}

#explanation {
  margin-top:10px;
  font-size:16px;
  color:#ccc;
}

#progress {
  margin-top:10px;
  opacity:0.8;
}
</style>
</head>

<body>

<h1>GED Practice Quiz</h1>

<select id="subjectSelect">
  <option value="math">Math</option>
  <option value="reading">Reading</option>
  <option value="social">Social Studies</option>
  <option value="science">Science</option>
  <option value="ela">English Language Arts</option>
</select>

<button onclick="startQuiz()">Start Quiz</button>

<div id="quizBox" style="display:none;">
  <h2 id="question"></h2>
  <div id="answers"></div>
  <div id="feedback"></div>
  <div id="explanation"></div>
  <div id="progress"></div>
</div>

<script>
const TOTAL_QUESTIONS = 500;
let questions = [];
let current = 0;
let score = 0;

// ---------- QUESTION GENERATORS WITH EXPLANATIONS ----------

function generateMath(i){
  let a = i % 50 + 1;
  let b = (i * 3) % 25 + 1;
  return {
    q: `What is ${a} + ${b}?`,
    options: [a+b, a+b+2, a+b-1, a+b+5],
    answer: 0,
    explanation: `Addition combines two numbers. ${a} + ${b} = ${a+b}.`
  };
}

function generateReading(i){
  return {
    q: `Which sentence best summarizes a paragraph?`,
    options: [
      "It states the main idea clearly",
      "It gives extra details",
      "It repeats the paragraph",
      "It lists examples only"
    ],
    answer: 0,
    explanation: "A summary focuses on the main idea, not details or examples."
  };
}

function generateSocial(i){
  return {
    q: `What is the main purpose of the U.S. Constitution?`,
    options: [
      "Establish a government",
      "Create political parties",
      "Declare war",
      "Control trade"
    ],
    answer: 0,
    explanation: "The Constitution establishes the structure and powers of the U.S. government."
  };
}

function generateScience(i){
  return {
    q: `What process do plants use to make food?`,
    options: [
      "Photosynthesis",
      "Respiration",
      "Digestion",
      "Evaporation"
    ],
    answer: 0,
    explanation: "Photosynthesis allows plants to use sunlight to make food from water and carbon dioxide."
  };
}

function generateELA(i){
  return {
    q: `Which sentence is grammatically correct?`,
    options: [
      "She doesn’t like apples.",
      "She don’t like apples.",
      "She no like apples.",
      "She not likes apples."
    ],
    answer: 0,
    explanation: "The subject 'she' requires 'doesn't' in standard English grammar."
  };
}

// ---------- QUIZ LOGIC ----------

function startQuiz(){
  const subject = document.getElementById("subjectSelect").value;
  questions = [];
  current = 0;
  score = 0;

  for(let i=0;i<TOTAL_QUESTIONS;i++){
    if(subject==="math") questions.push(generateMath(i));
    if(subject==="reading") questions.push(generateReading(i));
    if(subject==="social") questions.push(generateSocial(i));
    if(subject==="science") questions.push(generateScience(i));
    if(subject==="ela") questions.push(generateELA(i));
  }

  document.getElementById("quizBox").style.display="block";
  loadQuestion();
}

function loadQuestion(){
  if(current >= questions.length){
    document.getElementById("quizBox").innerHTML = `
      <h2>Quiz Complete</h2>
      <p>Final Score: <strong>${score}</strong> / ${questions.length}</p>
    `;
    return;
  }

  document.getElementById("feedback").textContent = "";
  document.getElementById("explanation").textContent = "";

  const q = questions[current];
  document.getElementById("question").textContent = q.q;
  document.getElementById("progress").textContent =
    `Question ${current+1} of ${questions.length} | Score: ${score}`;

  const answersDiv = document.getElementById("answers");
  answersDiv.innerHTML = "";

  q.options.forEach((opt,i)=>{
    const btn = document.createElement("div");
    btn.className="answer";
    btn.textContent = opt;
    btn.onclick = () => checkAnswer(btn, i);
    answersDiv.appendChild(btn);
  });
}

function checkAnswer(selectedBtn, index){
  const q = questions[current];
  const buttons = document.querySelectorAll(".answer");
  const feedback = document.getElementById("feedback");
  const explanation = document.getElementById("explanation");

  buttons.forEach(btn => btn.onclick = null);
  buttons[q.answer].classList.add("correct");

  if(index === q.answer){
    selectedBtn.classList.add("correct");
    feedback.textContent = " Correct!";
    feedback.style.color = "lightgreen";
    score++;
  } else {
    selectedBtn.classList.add("wrong");
    feedback.textContent = " Incorrect";
    feedback.style.color = "red";
  }

  explanation.textContent = "Explanation: " + q.explanation;

  setTimeout(()=>{
    current++;
    loadQuestion();
  }, 2200);
}
</script>

</body>
</html>
